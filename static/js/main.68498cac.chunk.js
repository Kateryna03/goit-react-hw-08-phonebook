(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{21:function(t,e,n){t.exports={link:"Navigation_link__12o2K",activeLink:"Navigation_activeLink__2rUFB",nav:"Navigation_nav__INfuO",search:"Navigation_search__3dsyO"}},23:function(t,e,n){"use strict";n.d(e,"a",(function(){return j})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return b}));var c=n(9),r=n.n(c),a=n(19),u=n(12),o=n.n(u),i=n(5),s=function(t){o.a.defaults.headers.common.Authorization="Bearer ".concat(t)},b=function(){return function(){var t=Object(a.a)(r.a.mark((function t(e,n){var c,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(i.h)()),s(n().auth.token),t.prev=2,t.next=5,o.a.get("/contacts");case 5:c=t.sent,a=c.data,e(Object(i.i)(a)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),e(Object(i.g)(t.t0.message));case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,n){return t.apply(this,arguments)}}()},j=function(t,e){return function(){var n=Object(a.a)(r.a.mark((function n(c){var a,u,s;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a={name:t,number:e},c(Object(i.b)()),n.prev=2,n.next=5,o.a.post("/contacts",a);case 5:u=n.sent,s=u.data,c(Object(i.c)(s)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),c(Object(i.a)(n.t0));case 13:case"end":return n.stop()}}),n,null,[[2,10]])})));return function(t){return n.apply(this,arguments)}}()},l=function(t){return function(){var e=Object(a.a)(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(i.e)()),e.prev=1,e.next=4,o.a.delete("/contacts/".concat(t));case 4:n(Object(i.f)(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),n(Object(i.d)(e.t0));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()}},24:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return a})),n.d(e,"c",(function(){return u}));var c=n(22),r=function(t){return t.loading},a=function(t){return t.contactsReducer.contacts},u=Object(c.a)([a,function(t){return t.contactsReducer.filter}],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))}))},29:function(t,e,n){"use strict";n.d(e,"d",(function(){return j})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return d})),n.d(e,"a",(function(){return f}));var c=n(9),r=n.n(c),a=n(19),u=n(12),o=n.n(u),i=n(4);o.a.defaults.baseURL="https://connections-api.herokuapp.com";var s=function(t){o.a.defaults.headers.common.Authorization="Bearer ".concat(t)},b=function(){o.a.defaults.headers.common.Authorization=""},j=function(t){return function(){var e=Object(a.a)(r.a.mark((function e(n){var c,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(i.k)()),e.prev=1,e.next=4,o.a.post("/users/signup",t);case 4:c=e.sent,a=c.data,console.log("####register DATA",a),s(a.token),n(Object(i.l)(a)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n(Object(i.j)(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()},l=function(t){return function(){var e=Object(a.a)(r.a.mark((function e(n){var c,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(i.e)()),e.prev=1,e.next=4,o.a.post("/users/login",t);case 4:c=e.sent,a=c.data,console.log("####Login DATA",a),s(a.token),n(Object(i.f)(a)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n(Object(i.d)(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()},d=function(t){return function(){var e=Object(a.a)(r.a.mark((function e(n){var c,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(i.h)()),e.prev=1,e.next=4,o.a.post("/users/logout",t);case 4:c=e.sent,a=c.data,console.log("####Login DATA",a),console.log("###Credentials",t),b(a.token),n(Object(i.i)(a)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),n(Object(i.g)(e.t0.message));case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()},f=function(){return function(){var t=Object(a.a)(r.a.mark((function t(e,n){var c,a,u,b;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=n(),a=c.auth.token){t.next=3;break}return t.abrupt("return");case 3:return s(a),e(Object(i.b)()),t.prev=5,t.next=8,o.a.get("/users/current");case 8:u=t.sent,b=u.data,e(Object(i.c)(b)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(5),e(Object(i.a)(t.t0.message));case 16:case"end":return t.stop()}}),t,null,[[5,13]])})));return function(e,n){return t.apply(this,arguments)}}()}},38:function(t,e,n){"use strict";var c=n(35),r=n(0),a=n(6),u=n(23),o=n(24),i=n(1);e.a=function(){var t=Object(a.b)(),e=Object(a.c)(o.a);console.log("#####FORMcontacts",e);var n=Object(r.useState)(""),s=Object(c.a)(n,2),b=s[0],j=s[1],l=Object(r.useState)(""),d=Object(c.a)(l,2),f=d[0],O=d[1],h=function(t){var e=t.target,n=e.name,c=e.value;switch(n){case"name":j(c);break;case"number":O(c);break;default:return}console.log("VALUE:",t.currentTarget),console.log("NAME:",[n])},p=e.some((function(t){return t.name.toLowerCase()===b.toLowerCase()})),v=function(){j(""),O("")};return Object(i.jsx)("div",{children:Object(i.jsxs)("form",{onSubmit:function(e){e.preventDefault(),p?alert("".concat(b," is already in contacts.")):(!function(e,n){t(Object(u.a)(e,n))}(b,f),v())},children:[Object(i.jsxs)("label",{htmlFor:"name",children:["Name",Object(i.jsx)("input",{type:"text",name:"name",value:b,onChange:h,id:b,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"\u0418\u043c\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432, \u0430\u043f\u043e\u0441\u0442\u0440\u043e\u0444\u0430, \u0442\u0438\u0440\u0435 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan \u0438 \u0442. \u043f.",required:!0})]}),Object(i.jsxs)("label",{htmlFor:"number",children:["Number",Object(i.jsx)("input",{type:"tel",name:"number",value:f,onChange:h,id:f,required:!0})]}),Object(i.jsx)("button",{onClick:function(){console.log("add contakt")},type:"submit",children:"add contact"})]})})}},39:function(t,e,n){"use strict";var c=n(6),r=n(0),a=n(10),u=n.n(a),o=n(23),i=n(24),s=n(1),b=function(){var t=Object(c.b)(),e=Object(c.c)(i.c),n=Object(c.c)(i.b);console.log("!!!!!CONTACTS",e);return Object(r.useEffect)((function(){return t(Object(o.c)())}),[t]),Object(s.jsx)("ul",{children:n?Object(s.jsx)("h1",{children:"LOADING..."}):e.map((function(e){var n=e.id,c=e.name,r=e.number;return Object(s.jsxs)("li",{children:[Object(s.jsx)("p",{children:c}),Object(s.jsx)("p",{children:r}),Object(s.jsx)("button",{type:"button",onClick:function(){return function(e){t(Object(o.b)(e))}(n)},children:"delete contact"})]},n)}))})};b.prototype={id:u.a.string.isRequired,name:u.a.string.isRequired,number:u.a.string.isRequired,handleDeleteContact:u.a.func.isRequired,contacts:u.a.array.isRequired},e.a=b},4:function(t,e,n){"use strict";n.d(e,"k",(function(){return r})),n.d(e,"l",(function(){return a})),n.d(e,"j",(function(){return u})),n.d(e,"e",(function(){return o})),n.d(e,"f",(function(){return i})),n.d(e,"d",(function(){return s})),n.d(e,"h",(function(){return b})),n.d(e,"i",(function(){return j})),n.d(e,"g",(function(){return l})),n.d(e,"b",(function(){return d})),n.d(e,"c",(function(){return f})),n.d(e,"a",(function(){return O}));var c=n(2),r=Object(c.b)("auth/registerRequest"),a=Object(c.b)("auth/registerSuccess"),u=Object(c.b)("auth/registerError"),o=Object(c.b)("auth/logInRequest"),i=Object(c.b)("auth/logInSuccess"),s=Object(c.b)("auth/logInError"),b=Object(c.b)("auth/logOutRequest"),j=Object(c.b)("auth/logOutSuccess"),l=Object(c.b)("auth/logOutError"),d=Object(c.b)("auth/getUserRequest"),f=Object(c.b)("auth/getUserSuccess"),O=Object(c.b)("auth/getUserError")},40:function(t,e,n){"use strict";var c=n(6),r=(n(0),n(10)),a=n.n(r),u=n(5),o=n(1),i=function(){var t=Object(c.b)(),e=Object(c.c)((function(t){return t.filter}));return Object(o.jsxs)("label",{children:["Find contacts by name",Object(o.jsx)("input",{type:"text",value:e,onChange:function(e){var n;n=e.target.value,t(Object(u.j)(n.toLowerCase()))},pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"\u0418\u043c\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432, \u0430\u043f\u043e\u0441\u0442\u0440\u043e\u0444\u0430, \u0442\u0438\u0440\u0435 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan \u0438 \u0442. \u043f.",required:!0})]})};i.defaultProps={value:""},i.prototype={value:a.a.string.isRequired,onChangeFilter:a.a.func.isRequired},e.a=i},5:function(t,e,n){"use strict";n.d(e,"h",(function(){return r})),n.d(e,"i",(function(){return a})),n.d(e,"g",(function(){return u})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"e",(function(){return b})),n.d(e,"f",(function(){return j})),n.d(e,"d",(function(){return l})),n.d(e,"j",(function(){return d}));var c=n(2),r=Object(c.b)("contacts/fetchContactRequest"),a=Object(c.b)("contacts/fetchContactSuccess"),u=Object(c.b)("contacts/fetchContactError"),o=Object(c.b)("contacts/addContactRequest"),i=Object(c.b)("contacts/addContactSuccess"),s=Object(c.b)("contacts/addContactError"),b=Object(c.b)("contacts/deleteContactRequest"),j=Object(c.b)("contacts/deleteContactSuccess"),l=Object(c.b)("contacts/deleteContactError"),d=Object(c.b)("contacts/FilterContact")},53:function(t,e,n){t.exports={header:"AppBar_header__1Yk8v"}},66:function(t,e,n){},67:function(t,e,n){},92:function(t,e,n){"use strict";n.r(e);var c,r,a,u,o,i=n(16),s=n(3),b=n(54),j=n(8),l=n(2),d=n(5),f=Object(l.c)([],(c={},Object(s.a)(c,d.i,(function(t,e){return e.payload})),Object(s.a)(c,d.c,(function(t,e){return[e.payload].concat(Object(b.a)(t))})),Object(s.a)(c,d.f,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),c)),O=Object(l.c)("",Object(s.a)({},d.j,(function(t,e){return e.payload}))),h=Object(l.c)(!1,(r={},Object(s.a)(r,d.h,(function(){return!0})),Object(s.a)(r,d.i,(function(){return!1})),Object(s.a)(r,d.g,(function(){return!1})),Object(s.a)(r,d.b,(function(){return!0})),Object(s.a)(r,d.c,(function(){return!1})),Object(s.a)(r,d.a,(function(){return!1})),Object(s.a)(r,d.e,(function(){return!0})),Object(s.a)(r,d.f,(function(){return!1})),Object(s.a)(r,d.d,(function(){return!1})),r)),p=Object(j.b)({contacts:f,filter:O,loading:h}),v=n(4),g={name:"",email:""},x=Object(l.c)(g,(a={},Object(s.a)(a,v.l,(function(t,e){return e.payload.user})),Object(s.a)(a,v.f,(function(t,e){return e.payload.user})),Object(s.a)(a,v.i,(function(){return g})),Object(s.a)(a,v.c,(function(t,e){return e.payload})),a)),m=Object(l.c)(!1,(u={},Object(s.a)(u,v.l,(function(){return!0})),Object(s.a)(u,v.j,(function(){return!1})),Object(s.a)(u,v.f,(function(){return!0})),Object(s.a)(u,v.d,(function(){return!1})),Object(s.a)(u,v.c,(function(){return!0})),Object(s.a)(u,v.a,(function(){return!1})),Object(s.a)(u,v.h,(function(){return!1})),u)),k=Object(l.c)(null,(o={},Object(s.a)(o,v.l,(function(t,e){return e.payload.token})),Object(s.a)(o,v.f,(function(t,e){return e.payload.token})),Object(s.a)(o,v.i,(function(){return null})),Object(s.a)(o,v.c,(function(t,e){return e.payload.token})),o)),y=Object(j.b)({user:x,isLoggedIn:m,token:k}),C=n(20),A=n(49),w={key:"auth",storage:n.n(A).a,whitelist:["token"]},R=Object(l.a)({reducer:{auth:Object(C.g)(w,y),contactsReducer:p},middleware:function(t){return t({serializableCheck:{ignoredActions:[C.a,C.f,C.b,C.c,C.d,C.e]}})},devTools:!1}),L=Object(C.h)(R),q=R,z=n(50),N=n(6),S=n(0),_=n.n(S),E=n(30),F=n.n(E),I=(n(66),n(67),n(18)),B=n(32),D=n(7),T=function(t){return t.auth.isLoggedIn},U=function(t){return t.auth.user.name},Z=n(1),M=["children","restricted"],J=function(t){var e=t.children,n=t.restricted,c=void 0!==n&&n,r=Object(B.a)(t,M),a=Object(N.c)(T)&&c;return Object(Z.jsx)(D.b,Object(I.a)(Object(I.a)({},r),{},{children:a?Object(Z.jsx)(D.a,{to:"/contacts"}):e}))},G=(n(38),n(39),n(40),{link:{display:"inline-block",textDecoration:"none",padding:12,fontWeight:700,color:"#2A363B"},activeLink:{color:"#E84A5F"}});function P(){return Object(Z.jsxs)("div",{children:[Object(Z.jsx)(i.b,{to:"/register",exact:!0,style:G.link,activeStyle:G.activeLink,children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(Z.jsx)(i.b,{to:"/login",exact:!0,style:G.link,activeStyle:G.activeLink,children:"\u041b\u043e\u0433\u0438\u043d"})]})}var W=n(29),$={container:{display:"flex",alignItems:"center"},avatar:{marginRight:4},name:{fontWeight:700,marginRight:12}};function K(){var t=Object(N.b)(),e=Object(N.c)(U);return Object(Z.jsxs)("div",{style:$.container,children:[Object(Z.jsxs)("span",{style:$.name,children:["Glad to see you, ",e]}),Object(Z.jsx)("button",{type:"button",onClick:function(){return t(Object(W.c)())},children:"\u0412\u044b\u0439\u0442\u0438"})]})}var V=n(21),Y=n.n(V),H=function(){var t=Object(N.c)(T);return Object(Z.jsxs)("nav",{className:Y.a.nav,children:[Object(Z.jsx)(i.b,{to:"/",className:Y.a.link,activeClassName:Y.a.activeLink,children:"StartPage"}),t&&Object(Z.jsx)(i.b,{to:"/contacts",className:Y.a.link,activeClassName:Y.a.activeLink,children:"Contacts"})]})},Q=n(53),X=n.n(Q);function tt(){var t=Object(N.c)(T);return Object(Z.jsxs)("header",{className:X.a.header,children:[Object(Z.jsx)(H,{}),t?Object(Z.jsx)(K,{}):Object(Z.jsx)(P,{})]})}var et=["children"],nt=function(t){var e=t.children,n=Object(B.a)(t,et),c=Object(N.c)(T);return Object(Z.jsx)(D.b,Object(I.a)(Object(I.a)({},n),{},{children:c?e:Object(Z.jsx)(D.a,{to:"/login"})}))},ct=Object(S.lazy)((function(){return n.e(6).then(n.bind(null,93))})),rt=Object(S.lazy)((function(){return n.e(5).then(n.bind(null,94))})),at=Object(S.lazy)((function(){return n.e(4).then(n.bind(null,95))})),ut=Object(S.lazy)((function(){return n.e(3).then(n.bind(null,96))}));var ot=function(){var t=Object(N.b)();return Object(S.useEffect)((function(){return t(Object(W.a)())}),[t]),Object(Z.jsxs)(S.Fragment,{children:[Object(Z.jsx)(tt,{}),Object(Z.jsx)(D.d,{children:Object(Z.jsxs)(S.Suspense,{fallback:Object(Z.jsx)("p",{children:"Loading..."}),children:[Object(Z.jsx)(J,{path:"/",exact:!0,component:ct}),Object(Z.jsx)(J,{restricted:!0,path:"/register",component:rt}),Object(Z.jsx)(J,{restricted:!0,path:"/login",component:at}),Object(Z.jsx)(nt,{path:"/contacts",children:Object(Z.jsx)(ut,{})})]})})]})};F.a.render(Object(Z.jsx)(_.a.StrictMode,{children:Object(Z.jsx)(N.a,{store:q,children:Object(Z.jsx)(z.a,{loading:null,persistor:L,children:Object(Z.jsx)(i.a,{children:Object(Z.jsx)(ot,{})})})})}),document.getElementById("root"))}},[[92,1,2]]]);
//# sourceMappingURL=main.68498cac.chunk.js.map